package com.efun.mainland.util.redis;

import java.util.Set;

import redis.clients.jedis.HostAndPort;
import redis.clients.jedis.JedisPoolConfig;

public class Cluster {

	private static volatile RedisCluster redisCluster;

	protected Cluster() {
	}

	protected static synchronized void initCluster(Set<HostAndPort> nodes, int timeout,
			JedisPoolConfig jedisPoolConfig) {
		if (redisCluster == null) {
			redisCluster = new RedisCluster(nodes, timeout, jedisPoolConfig);
		}
	}

	protected static final class SimpleCluster {
		public static final RedisCluster REDIS_CLUSTER = Cluster.redisCluster;
		public static final boolean IS_CLUSTER = (REDIS_CLUSTER != null);
	}
}
